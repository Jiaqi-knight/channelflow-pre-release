- all MPI-dependent code is inside #ifdef HAVE_MPI .. #endif
  The code construct is always
  if (usempi()) {
	#ifdef HAVE_MPI
		mpi code
	#else
		cferror("Trying to use MPI (usempi=true) without HAVE_MPI");
	#endif
  } else {
	original channelflow code (possibly slightly modified to avoid redundancies)
  }


	if (f.usempi()) {
#ifdef HAVE_MPI
		mpi code
#else
		cferror("Trying to use MPI (usempi=true) without HAVE_MPI");
#endif
	} else {
		original channelflow code (possibly slightly modified to avoid redundancies)
	}
